<!DOCTYPE html>
<html lang="en">

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .floating-table {
      position: fixed;
      top: 10px;
      right: 10px;
      background: white;
      border: 1px solid black;
      max-height: 90vh;
      overflow-y: auto;
      z-index: 1000;
    }
    .nested-level {
      padding-left: 20px;
    }
  </style>
</head>

<body>
  <div class="accordion" id="accordionPanelsStayOpenExample" style="width: 15em;">
    <div class="accordion-item">
      <h2 class="accordion-header" id="botonHeader">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelHeader"
          aria-expanded="false" aria-controls="panelHeader"
          style="width:15em; height:2em;font-weight: bold; background-color: #6D6C6C; border: 2px solid black;">
          HEADER
        </button>
      </h2>
      <div id="panelHeader" class="accordion-collapse collapse show" aria-labelledby="panelHeader">
        <div class="accordion-body">

        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="botonBody">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelBody"
          aria-expanded="false" aria-controls="panelBody"
          style="width:15em; height:2em;font-weight: bold; background-color: #6D6C6C; border: 2px solid black;">
          BODY
        </button>
      </h2>
      <div id="panelBody" class="accordion-collapse collapse" aria-labelledby="panelBody">
        <div class="accordion-body">
          <strong>This is the second item's accordion body.</strong> It is hidden by default, until the collapse plugin
          adds the appropriate classes that we use to style each element. These classes control the overall appearance,
          as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or
          overriding our default variables. It's also worth noting that just about any HTML can go within the
          <code>.accordion-body</code>, though the transition does limit overflow.
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="botonFooter">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelFooter"
          aria-expanded="false" aria-controls="panelFooter"
          style="width:15em; height:2em;font-weight: bold; background-color: #6D6C6C; border: 2px solid black;">
          FOOTER
        </button>
      </h2>
      <div id="panelFooter" class="accordion-collapse collapse" aria-labelledby="panelFooter">
        <div class="accordion-body">
          <strong>This is the third item's accordion body.</strong> It is hidden by default, until the collapse plugin
          adds the appropriate classes that we use to style each element. These classes control the overall appearance,
          as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or
          overriding our default variables. It's also worth noting that just about any HTML can go within the
          <code>.accordion-body</code>, though the transition does limit overflow.
        </div>
      </div>
    </div>
  </div>
  <hr>
  <div id="rowHeaderProject" class="row border-bottom border-dark border-2">
    <div id="FilaRowHeader-2" class="row mt-4">
      <div id="Header-2" class="col align-items-center d-flex flex-column position-relative FilaContenedor">
        <div id="principalContainers-Header-2"
          class="container border border-3 border-dark d-flex justify-content-center" style="height: 5cm;">
          <div id="Header-2.container-0" class="container containerHijo"
            style="border-style: dashed; border-color: grey;  margin: 10px; display:flex; align-items: center; justify-content: center;">
            <h1 id="Header-2.container-0.Titulo"
              style="color: #d505ff;font-family: Arial, Helvetica, sans-serif;font-size: 50px;text-decoration: underline #d505ff;;"
              class="element" contenteditable="">TITULO MH</h1>
          </div>
          <div id="Header-2.container-1" class="container containerHijo"
            style="border-style: dashed; border-color: grey;  margin: 10px; display:flex; align-items: center; justify-content: center;">
            <table id="Header-2.container-1.Tabla" style="border: 1px solid #000000;border-collapse: collapse;"
              class="element">
              <thead style="border: 1px solid #000000;background: #ffffff;color: #000000;" class="element">
                <tr class="element">
                  <th style="border: 1px solid #000000; background: #ffffff; color: #000000" class="element"
                    contenteditable="">Columna-0</th>
                  <th style="border: 1px solid #000000; background: #ffffff; color: #000000" class="element"
                    contenteditable="">Columna-1</th>
                  <th style="border: 1px solid #000000; background: #ffffff; color: #000000" class="element"
                    contenteditable="">Columna-2</th>
                </tr>
              </thead>
              <tbody style="border: 1px solid #000000;background: #ffffff;color: #000000;" class="element">
                <tr class="element">
                  <td style="border: 1px solid #000000; background: #ffffff; color: #000000" class="element"
                    contenteditable="">Columna-0.Fila-0</td>
                  <td style="border: 1px solid #000000; background: #ffffff; color: #000000" class="element"
                    contenteditable="">Columna-1.Fila-0</td>
                  <td style="border: 1px solid #000000; background: #ffffff; color: #000000" class="element"
                    contenteditable="">Columna-2.Fila-0</td>
                </tr>
                <tr class="element">
                  <td style="border: 1px solid #000000; background: #ffffff; color: #000000" class="element"
                    contenteditable="">Columna-0.Fila-1</td>
                  <td style="border: 1px solid #000000; background: #ffffff; color: #000000" class="element"
                    contenteditable="">Columna-1.Fila-1</td>
                  <td style="border: 1px solid #000000; background: #ffffff; color: #000000" class="element"
                    contenteditable="">Columna-2.Fila-1</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div id="Header-2.container-2" class="container containerHijo"
            style="border-style: dashed; border-color: grey;  margin: 10px; display:flex; align-items: center; justify-content: center;">
            <img id="apply-Header-2.container-2" src="../SRC/imagenes_web/crear_plus.png" alt="aplicarElemento"
              style="width: 50px;" title="Añadir elemento" class="imagenPlus"></div>
        </div><br>
      </div>
    </div>
  </div>

  <div id="floating-table" class="floating-table">
    <table id="structure-table" border="1">
      <thead>
        <tr>
          <th>Nivel</th>
          <th>ID</th>
          <th>Tag</th>
          <th>Contenido</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </div>
  
  <script>
  // Función para recorrer el DOM recursivamente y agregar filas a la tabla
  function visualizeStructure(element, level = 0) {
    const tableBody = document.getElementById('structure-table').querySelector('tbody');
    const row = document.createElement('tr');
  
    // Crear celdas para la fila
    const levelCell = document.createElement('td');
    levelCell.textContent = level;
    levelCell.className = 'nested-level';
    row.appendChild(levelCell);
  
    const idCell = document.createElement('td');
    idCell.textContent = element.id || 'N/A';
    row.appendChild(idCell);
  
    const tagCell = document.createElement('td');
    tagCell.textContent = element.tagName;
    row.appendChild(tagCell);
  
    const contentCell = document.createElement('td');
    if (element.children.length === 0) {
      contentCell.textContent = element.innerHTML.trim() || 'N/A';
    } else {
      contentCell.textContent = 'N/A';
    }
    row.appendChild(contentCell);
  
    // Agregar la fila a la tabla
    tableBody.appendChild(row);
  
    // Llamada recursiva para cada hijo
    Array.from(element.children).forEach(child => {
      visualizeStructure(child, level + 1);
    });
  }
  
  // Iniciar la visualización a partir del elemento raíz
  document.addEventListener('DOMContentLoaded', () => {
    const rootElement = document.getElementById('rowHeaderProject');
    visualizeStructure(rootElement);
  });
  </script>
</body>

</html>